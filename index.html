<!DOCTYPE html>
<html>
<head>
  <title>New</title>
  <link rel="stylesheet" type="text/css" 
    href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css">
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
    <script src="jquery-3.4.1.min.js"></script>


  <style> 
  #myTable {
    border: none;
  }

  #myTable tr td {
    border: none;    
    background-color: #e0e0e0;
    border-bottom: 1px solid #aaa;
    text-align: center;
  }
  #myTable tr td:first-child {

    border-bottom: 1px solid #aaa;
    text-align: center;
  }


    .invis {
  display: none;
  }
    .flex {
      display:flex;
    }
    .box {
      border: 1px black solid;
      width: 75px;
      height: 75px;
    }
    .red {
      background-color: rgb(172,15,15);
      color: rgb(172,15,15);
    }
    .orange {
      background-color: rgb(222,119,17);
      color: rgb(222,119,17);
    }
    .yellow {
      background-color: rgb(215, 223, 18);
      color: rgb(215, 223, 18);
    }
    .lime {
      background-color: rgb(104,222, 18);
      color: rgb(104,222, 18);
    }
    .green {
      background-color: rgb(17,222, 109);
      color: rgb(17,222, 109);
    }
    .cyan {
      background-color: rgb(17,196, 222);
      color: rgb(17,196, 222);
    }
    .blue {
      background-color: rgb(17,41,223);
      color: rgb(17,41,223);
    }
    .purple {
      background-color: rgb(118,18, 224);
      color: rgb(118,18, 224);
    }
    .pink {
      background-color: rgb(223, 17, 181);
      color: rgb(223, 17, 181);
    }
  </style>
</head>



<body>
<h1>Coding Challenge</h1>

<div class = "d-flex mb-3">
<h3>RAINBOW</h3>
<button onclick="sortTable(0,0)">NORMAL</button>
</div>

<button> <a href="https://github.com/kphanplan/ColorSorter/blob/master/scrambler.html"> GO TO SCRAMBLER</a> </button>

<div class = "d-flex mb-5">
  <div class = "d-flex">
    <h3>X: </h3>
    <button class = "btn btn-danger btn-lg"
    onclick="sortTable(1,0)">SORT: RED</button>
    <button class = "btn btn-success btn-lg"
    onclick="sortTable(2,0)">SORT: GREEN</button>
    <button class = "btn btn-info btn-lg"
    onclick="sortTable(3,0)">SORT: BLUE</button>
   </div>
  <div class = "d-flex">
    <h3>Y: </h3>
    <button class = "btn btn-danger btn-lg"
    onclick="sortTable(0,1)">SORT: RED</button>
    <button class = "btn btn-success btn-lg"
    onclick="sortTable(0,2)">SORT: GREEN</button>
    <button class = "btn btn-info btn-lg"
    onclick="sortTable(0,3)">SORT: BLUE</button>
   </div>
</div>

<table id="myTable">
  <tbody>
    <tr>
      <th> :D </th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
      <th>5</th>
      <th>6</th>
      <th>7</th>
      <th>8</th>
      <th>9</th>
    </tr>
    <tr>
    <td class = "box">1</td>
<!-- RED -->
    <td> 4  <div class = "4 box red">     </div></td> 
    <td> 6  <div class = "6 box orange">  </div></td> 
    <td> 5  <div class = "5 box yellow">  </div></td> 
    <td> 2  <div class = "2 box lime">    </div></td> 
    <td> 1  <div class = "1 box green">   </div></td> 
    <td> 1  <div class = "1 box cyan">    </div></td> 
    <td> 1  <div class = "1 box blue">    </div></td> 
    <td> 3  <div class = "3 box purple">  </div></td> 
    <td> 7  <div class = "7 box pink">    </div></td> 
    </tr>

<!-- GREEN -->

    <tr>
    <td>2 </td>    
    <td> 1 <div class = "1 box red">     </div></td> 
    <td> 5  <div class = "5 box orange">  </div></td> 
    <td> 8  <div class = "8 box yellow">  </div></td> 
    <td> 7  <div class = "7 box lime">    </div></td> 
    <td> 7  <div class = "7 box green">   </div></td> 
    <td> 6  <div class = "6 box cyan">    </div></td> 
    <td> 4  <div class = "4 box blue">    </div></td> 
    <td> 3  <div class = "3 box purple">  </div></td> 
    <td> 2  <div class = "2 box pink">    </div></td>     

    </tr>

<!-- BLUE -->
    <tr>
    <td>3</td>
    <td> 1  <div class = "1 box red">     </div></td> 
    <td> 2  <div class = "2 box orange">  </div></td> 
    <td> 3  <div class = "3 box yellow">  </div></td> 
    <td> 3  <div class = "3 box lime">    </div></td> 
    <td> 4  <div class = "4 box green">   </div></td> 
    <td> 6  <div class = "6 box cyan">    </div></td> 
    <td> 7  <div class = "7 box blue">    </div></td> 
    <td> 8  <div class = "8 box purple">  </div></td> 
    <td> 5  <div class = "5 box pink">    </div></td> 
    </tr>

    <tr>
    <td>4 </td>
    <td>  <div class = "4 box red">     </div></td> 
    <td>  <div class = "6 box orange">  </div></td> 
    <td>  <div class = "5 box yellow">  </div></td> 
    <td>  <div class = "2 box lime">    </div></td> 
    <td>  <div class = "1 box green">   </div></td> 
    <td>  <div class = "1 box cyan">    </div></td> 
    <td>  <div class = "1 box blue">    </div></td> 
    <td>  <div class = "3 box purple">  </div></td> 
    <td>  <div class = "7 box pink">    </div></td> 
    </tr> 

    <tr>
    <td>5</td>
    <td>  <div class = "1 box red">     </div></td> 
    <td>  <div class = "5 box orange">  </div></td> 
    <td>  <div class = "8 box yellow">  </div></td> 
    <td>  <div class = "7 box lime">    </div></td> 
    <td>  <div class = "7 box green">   </div></td> 
    <td>  <div class = "6 box cyan">    </div></td> 
    <td>  <div class = "4 box blue">    </div></td> 
    <td>  <div class = "3 box purple">  </div></td> 
    <td>  <div class = "2 box pink">    </div></td> 
    </tr> 

    <tr>
    <td>6</td>
    <td>  <div class = "1 box red">     </div></td> 
    <td>  <div class = "2 box orange">  </div></td> 
    <td>  <div class = "3 box yellow">  </div></td> 
    <td>  <div class = "3 box lime">    </div></td> 
    <td>  <div class = "4 box green">   </div></td> 
    <td>  <div class = "6 box cyan">    </div></td> 
    <td>  <div class = "7 box blue">    </div></td> 
    <td>  <div class = "8 box purple">  </div></td> 
    <td>  <div class = "5 box pink">    </div></td> 
    </tr> 

    <tr>
    <td>7</td>
    <td>  <div class = "4 box red">     </div></td> 
    <td>  <div class = "6 box orange">  </div></td> 
    <td>  <div class = "5 box yellow">  </div></td> 
    <td>  <div class = "2 box lime">    </div></td> 
    <td>  <div class = "1 box green">   </div></td> 
    <td>  <div class = "1 box cyan">    </div></td> 
    <td>  <div class = "1 box blue">    </div></td> 
    <td>  <div class = "3 box purple">  </div></td> 
    <td>  <div class = "7 box pink">    </div></td> 
    </tr> 

    <tr>
    <td>8</td>
    <td>  <div class = "1 box red">     </div></td> 
    <td>  <div class = "5 box orange">  </div></td> 
    <td>  <div class = "8 box yellow">  </div></td> 
    <td>  <div class = "7 box lime">    </div></td> 
    <td>  <div class = "7 box green">   </div></td> 
    <td>  <div class = "6 box cyan">    </div></td> 
    <td>  <div class = "4 box blue">    </div></td> 
    <td>  <div class = "3 box purple">  </div></td> 
    <td>  <div class = "2 box pink">    </div></td> 
    </tr> 

    <tr>
    <td>9   </td>
    <td>  <div class = "1 box red">     </div></td> 
    <td>  <div class = "2 box orange">  </div></td> 
    <td>  <div class = "3 box yellow">  </div></td> 
    <td>  <div class = "3 box lime">    </div></td> 
    <td>  <div class = "4 box green">   </div></td> 
    <td>  <div class = "6 box cyan">    </div></td> 
    <td>  <div class = "7 box blue">    </div></td> 
    <td>  <div class = "8 box purple">  </div></td> 
    <td>  <div class = "5 box pink">    </div></td> 
    </tr> 

  </tbody>
</table>


<!-- CREDIT: 
https://stackoverflow.com/questions/50160377/html-table-sortable
-by-row-instead-of-column-with-javascript -->

<script>
var dirc = 0, dirr = 0, cc = 0, rr = 0;
function colSlice(arr,ini=0,fin=0) {
  if (ini<0) ini = arr.length+ini;
  if (fin==0) fin = arr.length;
  else if (fin<0) fin = arr.length+fin;
  else fin = ini+fin
  var sliced = [];
  for (var i = 0; i < arr.length; i++) {
    sliced.push([]); 
    for (var j = 0; j < arr[i].length; j++) {
      if (j>=ini && j<fin)
        sliced[i].push(arr[i][j]);
    }
  }
  return sliced;
}
function colJoin(a,b) {
  var joined = [];
  for (var i = 0; i < a.length; i++) {
    joined.push([]); 
    for (var j = 0; j < a[i].length; j++) {
      joined[i].push(a[i][j]);
    }
    for (var j = 0; j < b[i].length; j++) {
      joined[i].push(b[i][j]);
    }
  }
  return joined;
}

function sortTable(r,c) {
  var table = document.getElementById("myTable");
  var rows = table.getElementsByTagName("TR");
  var matriz = [];
  var m = null;
  // Get matrix from table
  for (i = 0; i < rows.length; i++) {
    if (i==0) cols = rows[i].getElementsByTagName("TH");
    else cols = rows[i].getElementsByTagName("TD");
    m = [];
    for (j = 0; j < cols.length; j++) {
      m.push(cols[j].innerHTML);
    }
    matriz.push(m);
  }
  if (r==0) { // sort rows by col
    if (c==cc) dirc = Math.abs(1-dirc);
    else dirc = 0;
    m = matriz[0];
    matriz = matriz.slice(1);
    matriz.sort(function(a, b){
      if (dirc<=0) {
        if (a[c].toLowerCase() > b[c].toLowerCase()) return 1;
        else if (a[c].toLowerCase() < b[c].toLowerCase()) return -1;
      } else {
        if (a[c].toLowerCase() > b[c].toLowerCase()) return -1;
        else if (a[c].toLowerCase() < b[c].toLowerCase()) return 1;
      }
      return 0;
    });
    matriz.unshift(m);
    cc = c;
  }

  if (c==0) { // sort cols by row
    if (r==rr) dirr = Math.abs(1-dirr);
    else dirr = 0;
    m = colSlice(matriz,0,1);
    matriz = colSlice(matriz,1);
    // Transpose matriz
    var newArray = matriz[0].map(function(col, i){
      return matriz.map(function(row){
        return row[i];
      });
    });

    // Sort
    newArray.sort(function(a, b){
      if (dirr<=0) {
        if (a[r].toLowerCase() > b[r].toLowerCase()) return 1;
        else if (a[r].toLowerCase() < b[r].toLowerCase()) return -1;
      } else {
        if (a[r].toLowerCase() > b[r].toLowerCase()) return -1;
        else if (a[r].toLowerCase() < b[r].toLowerCase()) return 1;
      }
      return 0;
    });
    // Transpose back
    matriz = newArray[0].map(function(col, i){
      return newArray.map(function(row){
        return row[i];
      });
    });
    matriz = colJoin(m,matriz);
    rr = r;
  }
  // Update values
  for (i = 0; i < rows.length; i++) {
    if (i==0) cols = rows[i].getElementsByTagName("TH");
    else cols = rows[i].getElementsByTagName("TD");
    for (j = 0; j < cols.length; j++) {
      cols[j].innerHTML = matriz[i][j];
    }
  }
}
</script>
</body>
</html>